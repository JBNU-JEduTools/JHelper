---
title: 'Cloudflare 배포 자동화'
description: 'Cloudflare Pages를 이용한 JHelper 프로젝트 배포 가이드'
slug: 'JHelper/4admin/5cloudflare'
---

# Cloudflare Pages 배포 가이드

이 문서는 GitHub Actions 대신 Cloudflare Pages를 사용하여 JHelper 프로젝트를 배포하는 방법을 안내합니다.

---

## Cloudflare Pages란?

Cloudflare Pages는 개발자가 GitHub 저장소와 직접 연동하여, 코드 변경 시 자동으로 웹사이트를 빌드하고 전 세계에 배포할 수 있게 해주는 플랫폼입니다.

### 주요 장점

*   **GitHub Actions 불필요:** 코드 푸시(Push)만으로 Cloudflare가 모든 빌드 및 배포 과정을 자동으로 처리합니다.
*   **빠른 속도:** Cloudflare의 글로벌 CDN을 통해 사용자에게 매우 빠른 속도로 콘텐츠를 제공합니다.
*   **간편한 설정:** 몇 단계만으로 GitHub 저장소와 연결하여 자동 배포 파이프라인을 구축할 수 있습니다.

---

## 배포 현황 확인 및 관리

현재 JHelper 프로젝트는 이미 Cloudflare Pages에 설정되어 있습니다. 아래 절차에 따라 배포 상태를 확인하고 관리할 수 있습니다.

1.  **Cloudflare 로그인:** `jedutools@gmail.com` 계정으로 [Cloudflare 대시보드](https://dash.cloudflare.com/)에 로그인합니다.

2.  **Pages 프로젝트 접근:** 왼쪽 사이드바에서 `Workers & Pages`를 선택한 후, 프로젝트 목록에서 `jhelper` (또는 설정된 프로젝트 이름)를 클릭합니다.
    <img src="../Images/cloudflare/cloudflare1.png" alt="Cloudflare 대시보드에서 'Workers & Pages' 메뉴를 선택하고, jhelper 프로젝트를 클릭하는 화면" width="100%" />

3.  **배포 내역 확인:** 프로젝트 페이지에서 최근 배포 내역, 현재 상태, 미리보기 URL 등을 확인할 수 있습니다. `main` 브랜치에 새로운 커밋이 푸시될 때마다 새로운 배포가 자동으로 시작됩니다.
    <img src="../Images/cloudflare/cloudflare2.png" alt="Cloudflare Pages의 jhelper 프로젝트 대시보드. 최근 배포 목록과 각 배포의 상태(성공, 실패 등)가 표시됨." width="100%" />

---

## 커스텀 도메인 설정

Cloudflare Pages는 `*.pages.dev` 형식의 기본 도메인을 제공하지만, `jhelper.jbnu.ac.kr`과 같은 커스텀 도메인을 연결할 수 있습니다.

현재 우리 프로젝트는 `jhelper.pages.dev`로 배포되고 있습니다. 커스텀 도메인을 연결하기 위해서는, **학교 도메인 관리 측에 `jhelper.jbnu.ac.kr` 주소에 대한 `CNAME` 레코드를 `jhelper.pages.dev`로 지정해달라고 요청**하기만 하면 됩니다.

- **레코드 타입:** `CNAME`
- **이름 (Name):** `jhelper` (또는 `jhelper.jbnu.ac.kr`)
- **대상 (Target/Content):** `jhelper.pages.dev`

<img src="../Images/cloudflare/cfcustomdomain.png" alt="Cloudflare Pages의 Custom domains 설정 탭에서 CNAME 레코드를 추가하라는 안내가 보이는 화면" width="100%" />

---

## (참고) 신규 프로젝트 설정 방법

만약 처음부터 프로젝트를 다시 연결해야 할 경우, 아래의 절차를 따릅니다.

1.  **프로젝트 생성:** Pages 대시보드에서 'Create a project' 버튼을 클릭하고 'Connect to Git'을 선택합니다.

2.  **GitHub 계정 연결:** Cloudflare와 GitHub 계정을 연동하고, 배포할 JHelper 저장소를 선택합니다.

3.  **빌드 및 배포 설정:**
    - **Production branch:** `main`으로 설정합니다.
    - **Framework preset:** `Gatsby`를 선택합니다. Cloudflare가 자동으로 빌드 설정을 채워줍니다.
    - **Build command:** `yarn build`
    - **Build output directory:** `docs/`
    - **Environment variables (환경 변수):**
        - `NODE_VERSION`: `20` (Plain text)
        - `YARN_VERSION`: `1` (Plain text)
    <img src="../Images/cloudflare/cfsettings.png" alt="Cloudflare Pages의 빌드 설정 화면. 환경 변수 섹션에 NODE_VERSION과 YARN_VERSION이 추가된 모습." width="100%" />

4.  **저장 및 배포:** 'Save and Deploy' 버튼을 클릭하면 첫 배포가 시작됩니다.

이후의 모든 과정은 `main` 브랜치에 코드를 푸시할 때마다 자동으로 진행됩니다.